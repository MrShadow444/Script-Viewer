local function createScriptViewer()
    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local TextBox = Instance.new("TextBox")
    local CloseButton = Instance.new("TextButton")
    local CopyButton = Instance.new("TextButton")

    ScreenGui.Parent = game.CoreGui

    Frame.Parent = ScreenGui
    Frame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    Frame.Size = UDim2.new(0, 600, 0, 400)
    Frame.Position = UDim2.new(0.5, -300, 0.5, -200)

    TextBox.Parent = Frame
    TextBox.BackgroundColor3 = Color3.new(1, 1, 1)
    TextBox.Size = UDim2.new(1, -20, 1, -60)
    TextBox.Position = UDim2.new(0, 10, 0, 10)
    TextBox.Font = Enum.Font.SourceSans
    TextBox.TextSize = 14
    TextBox.TextWrapped = true
    TextBox.TextXAlignment = Enum.TextXAlignment.Left
    TextBox.TextYAlignment = Enum.TextYAlignment.Top
    TextBox.ClearTextOnFocus = false
    TextBox.Text = ""

    CloseButton.Parent = Frame
    CloseButton.Size = UDim2.new(0, 100, 0, 30)
    CloseButton.Position = UDim2.new(0, 10, 1, -40)
    CloseButton.Text = "Close"
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)

    CopyButton.Parent = Frame
    CopyButton.Size = UDim2.new(0, 100, 0, 30)
    CopyButton.Position = UDim2.new(1, -110, 1, -40)
    CopyButton.Text = "Copy to Clipboard"
    CopyButton.MouseButton1Click:Connect(function()
        setclipboard(TextBox.Text)
    end)

    return TextBox
end

local function showScriptContent(scriptInstance)
    local TextBox = createScriptViewer()
    local success, result = pcall(function()
        return decompile(scriptInstance)
    end)
    if success then
        TextBox.Text = result
    else
        TextBox.Text = "Failed to decompile script: " .. tostring(result)
    end
end

-- Test script viewer by calling showScriptContent with a script instance
-- For example: showScriptContent(game.Workspace.SomeScript)
